周易函書約存卷十三禮部侍郎胡煦撰
原古(冒道分派)
異乘同除法(泰西謂之三率)
以先有之數知今有之數兩兩相得是生此例莫善於
異乘同除乃古九章之樞要也先有者二今有者一是
已知者三而未知者一用三求一故泰西謂之三率
異者何也言異名也同者何也言同名也假如以粟易
布則粟與粟同名布與粟為異名矣
何以為異乘同除也主乎今有之物以為言也假如先
有粟若干易布若干今復有粟若干將以易布則當以
先所易之數例之是先易之布與今有之粟異名也則
用以乘是謂異乘若先有之粟與今有之粟同名也則
用以除是謂同除皆用以乘除今粟故曰主乎今有以
為言也(置今有粟以異名之布乘之為實再以同名之粟為法除之是皆以今粟為主而以先冇之二)
(件乘除之也)
原價與今物異名以乘原物與今物同名以除泰西以
原物為一率原價為二率今有物為三率以二率乘三
率而以一率除之即得四率
問何以不先除後乘曰以原總物除原物總價則得每
物之價以乘今有總物亦可得今有之總價然除有不
盡則不可以乘故變為先乘後除其理一也
三率法以先有之二件為一率二率今有之二件為三
率四率則前兩率之比例與後兩率之比例等故其數
可以互求
(今有之二率先只冇其一合前有之二率共為三率以求之而得今冇之餘一率是以三求一故曰三率法實四率也)
假如一率是三二率是四三率是九則四率必為十二
何也三與四之比例若九與十二也故以四(二率)九(三率)相
乘(卅六)為實以三(一率)為法除之必得十二(四率)
若互用之以四率為一率三為二率則十二為三率九
為四率蓋十二與九之比例若四與三也
(解曰以三比四以九比十二并三分加一之比例以十二比九以四比三并四分減一之比例凡言比例等者皆如是)
若倒用之十二為一率九為二率則四為三率三為四
率
若以九為一率十二為二率則三為四率四為三率
(四九相乘三十六而十二與三相乘亦三十六故以三除三十六得十二以十二除三十六亦復得三此前兩圖互求之理若更一四為二三其實同為三十六故以四除之得九以九除之亦復得四)
若錯綜之三為一率九為二率四為三率則十二為四
率
若以九為一率三為二率十二為三率則四為四率
若以十二為一率四為二率九為三率則三為四率
若以四為一率十二為二率三為三率則九為四率
此又以前圖之二與三更之則前兩率之第二變為後兩率之第一而比例亦等(在前圖為三與四若九與十二者此圖則三與九亦若四與十二也)若以一率除二率得數以乘三率亦得四率(如以一率三除)
(二率九得三以乘三率四亦必得四率十二以一率四除二率十二得三以乘三率三亦得四率九但先除後乘多有不盡之分故異乘同除為算家大法乃中西兩術所同也)
筆算併法
併法即加法也千與千併百與百併俱從小數始自下
而上
筆算減法
亦千與千併百與百併亦從小數始自下而上本位不
足減借上位一數以減之
試加差法(凡加皆自下小數起)
有九減七減二法凡九減不論單十百千之位亦不計
○位只據現有之數而合計之以九除之餘者存之列
于右次減總數以九除之餘者存之列于左兩餘相比
同則無差
七減有二法俱論位俱由大數以至小數一法以所加
之數分積之凡首數皆作幾十以七減之存其餘合下
數便作幾十幾如下有○位則此所餘之數便作幾十
以七減之存其餘方合三位之數作幾十幾以七減之
若其末有○位不可以其餘便為餘數亦須作幾十之
數七減之其餘方為所餘之數記于右又從首減二行
之加數以其餘亦記于右又從首減三行之加數以其
餘亦記于右若所加之數止于三行則以三行所得之
數合而七減之存其餘列于右然後減總數亦自大數
以至小數其○位亦如前法兩餘相比同則無差
一法以所加之數合積之萬與萬積為一處以七減之
以其餘并千位之數減畢以其餘合百位之數凡所餘
之數俱作十減至末位止以其餘列于右中有○位皆
不論矣然後如前減其所得總數相合則無差矣
試減差法(凡減皆自下小數起)
一法以減數并減餘數仍得原數
一法以減餘之數于原數中減之即得所減之數
亦有九減七減二法九減法以減數并減餘之數合而
九減之以其所餘者列于右次併原數亦合而九減之
以其餘列于左兩餘相比同則無誤(蓋必用減數減餘二者然後能與原)
(數配也)
七減法先以減數從大數始如前七減之法有○位則
所餘之數亦作十數視其所餘者列于右然後以減餘
之數亦如前七減之法由大數而始遞降而七減之亦
列于右然後併二者之餘數合為一處如過七數仍以
七減之不及則併其餘列于右次以原數亦如前七減
之法由大數而始以七減之存其餘列于左兩餘相比
同則無誤(如得數原數下冇三○則亦三餘而止不可及于四餘)
試乘差法(凡乘之實數由尾而起乘之法數由大者而起)
亦有九減七減二法九減法先以實數積而九減之而
紀其餘于右次以法數如法九減之而紀其餘于左再
以左右兩減之餘相乘得數仍九減之而紀其餘于上
末以所得之數亦九減之而紀其餘于下兩餘相比同
則無誤若左右二方内有○即上方亦○又或左為一
數即上數亦同右數皆不用乘七減亦然(几曰十者在本位餘)
(者便在第二位)
試除差法
亦用九減七減二法九減得數記餘于左法數記餘于
右得數與法數相乘記餘于上然後以原數九減之記
于下而合之
七減法先以除數(即法數)如法減之列于左次以得數如
法減之列于右次以除數得數之餘相乘而減之列于
上然後以原數如法減之列于下兩數相同知其無悞
若使得數除之不盡尚有餘數未除則于兩數相乘之
時合併所餘之數而減之
試加差法
九減式試第一式先減散數去○與九不入減(本不入)
(數九在減内故不入)併四七(此處除九)五
八八六七八八六一五共
為七十三九減餘一(減去八九七十二)列
左○次併總數三二七七共為
一十九九減餘一(減去二九一十八)列右左右相比數同無
差通曰此以見數為主不論千百位也
七減式試第一式散數首行之左一○作一十七減餘
三次作
三十六
七減餘一(減五)
(七三十五)次作一
十五七減餘一(減二七一十四)次作一十四七減無餘右下紀○
次行左八九作八十九七減餘五次作五十七減餘一
次作一十七七減餘三右下紀三(三行餘五四行餘五)三行依法減
餘五俱紀右下再以各行紀餘○三五五併為十三(此合)
(數也)七減餘六乃以總數依法減之餘六左右列比無差
試減差法
九減式試第一式先併減數四二及減餘二三一三共
為一十五九減餘六次併原數
二七一五為一十五九減餘六
左右列比無差
通曰九減用實積數亦可蓋九數無往
不合故也(此二七一五減四二者)
七減式試第一式先以減數之左四○作四十七滅餘
五次作五十二七減餘三
又以減餘之左二三作二
十三七減餘二次作二十一七
減無餘次三不足減仍餘三(不足)
(在末不必作十)三俱紀右下乃以各數紀餘之三三併為六不
足減仍作六再以原數之左二七作二十七七減餘六
次作六十一七減餘五次作五十五七減餘六左右列
比無差(此二七一五減四二者)
補乘法
術曰乘即因也用九因法上列原數(即實數)下列乘數(即法)
(數)齊於右尾算即始右將下一位遍乘上諸位向左逐
位紀所乘數於下盡下數乃止諸所紀為散數用加法
得所求總數若定總首為何數從乘數左首推至總數
左首即知
通曰凡以下乘上一數有二位左十右零右即本位也
遇十有數而零亦有數者曰平(三四一十二四四一十六之類)本位紀
零數左位紀十數遇十有數而零無數者曰足(五四得二十五)
(八得四十之類)本位紀○而其數紀左位也遇十無數而零有
數者曰如(一三如三二三如六之類)左位紀○而其數紀本位也舊
法紀數每併為一令人難曉凡原尾有○而乘尾無○
者雖○亦乘之以存其位乘尾有○而原尾無○者即
自乘數之有數位乘起若上下尾與中或俱有○者亦
須乘之以存位下數乘上○下○乘上數皆曰某○如
某下○乘上○曰○○如○則本位左位俱紀○
也
十因
式乘上下數不等少數尚未滿十乘數而少數不及於乘上下
數如以八乘九何以得七十二術九在十内少一紀一於九右
八在十内少二紀二於八右是九八為乘上下
數一二為少數也上九下八上下數不等也一
不及九二不及八少數不及也以少數一二相乘得二
(此即七十二之二也呼一二如二)紀下二未滿十故曰未滿十乘數也
又以右一斜減左八右二斜減左九俱餘七數(此即七十二之)
(七)同下紀七故得七十二
又式乘上下數等少數未滿十乘數而少數不及於
乘上下數如以八乘八何以得六十四術上下俱八
故曰上下數等八在十内少二右俱紀二相乘得四下紀四左右上下斜減俱餘六
下紀六故得六十四
又式乘上下數等少數已滿十乘數而少數反過於
乘上下數如以三乘三何以得九術上下俱三三在
十内小七右俱紀七相乘得四十九已有四十故曰已滿十乘數也下紀九紀四於左左上下三各加所寄四俱變
為七然後左右斜減俱無餘(七與七減也)下紀○故得
九
又式乘上下數不等少數滿十乘數而少數不及於
乘上下數如以六乘七何以得四十二術七在十内
少三六在十内少四俱紀右相乘得一十二下紀二寄一於左左上七加一變為八下六加一變為七然後左右上下
斜減俱餘四下紀四故得四十二又術三乘四得一
十二將一懸於左待左右上下斜減俱餘三乃併所懸
之一為四亦合
通曰一二之乘得八九之乘是以小乘而得大乘也七
七之乘得三三之乘是以大乘而得小乘也九因本乎
(卜因即洛書之無十而藏十也)
試乘差法
九减式試第二式四千六百零八人每人三百二十五
兩共得一百四十九萬七千六百兩也除○九外併原
數四六八為一十八九減無餘
列○於左併乘數三二五為一十
九減餘一列右以左右一與○乘
曰一○如○無數列○於上併總數一四七六為一
十八九減無餘列○於下上下相比無差
七減式試第四式四十五人每人六十兩共得二千七
百兩原數如法減之(減六七四十二)餘
三列左乘數如法減之(減七八五)
(十六)餘四列右以左右三四乘得一十
二七減餘五列上總數如法減之餘五
列下上下相比無差
通曰九減用見數可去○九不用七減用實積數必
存○九之位與數以便逐位減至右未而止也
試除差法
除無餘九減式試第一式三百四十二兩九人分之各
得三十八兩除數九九減無餘
左列○併用數三八為一十一
九減餘二右列二乘無數列○於上
併原數三四二為九九減無餘列○於下上下相比
無差(下有餘實一五未分)
除有餘九減式試第五式六百五十三兩五十八人分
之各得一十一兩併除數
五八為一十三九減餘四
左列四併用數一一為二不足九
減右即列二乘得八(二四如八也)又併餘實一五為一十四
九減餘五列上併原數六五三為一十四九減餘五列
下上下相比無差
除無餘七減式試第一式三百四十二兩九人分之各
得三十八兩除數九作九七減
餘二列左用數三八作二十八
七減餘三列右乘得六(二三如六)不足七減
即列六於上原數三四作三十四七減餘六次作六十
二七減餘六列下上下相比無差
除有餘七減式試第五式六百五十三兩五十八人分
之各得一十一兩除數五
八作五十八七減餘二列
左用數一一作一十一七減餘四
列右乘得八(二四如八)又以餘實一五作一十五七減餘一
以此餘一併左右所乘八為九七減餘二列上原數六
五作六十五七減餘二次作二十三七減餘二列上原
數六五作六十五七減餘二次作二十三七減餘二列
下上下相比無差
半除試差式除數六五用數一三原數八六六三餘實
二一三○用九減併除數六
五為一十一九減餘二列左
又併用數一三為四不足九
減右即列四乘得八乃併法
尾止處以前之餘實二一為三不足九
減即以此三併左右所乘八為一十一九減餘二列上
併原數抹去三位之八六六為二十九減餘二列下上
下相比無差○用七減除數六五作六十五七減餘二
列左用數一三作一十三七減餘六列右乘得一十二
乃以法尾止處以前之餘實二一作二十一七減無餘
與左右所乘數相併仍是一十二七減餘五列上原數
抹去之八六作八十六七減餘二次作二十六七減餘
五列下上下相比無差
通曰試策之法獨用九七何也蓋十者數之窮也數窮則
變十復為一故數始於一終於九九陽數也下九之陽數
為七故七與九同用自七九而外或有合者於率不通不
可立法所以加減試差用實積則無不可用見數則七與
五不可也乘除試差用實積則亦無不可用見數則自九
而外皆不可也若夫論除之餘六與三之餘同九是用九
而六三可無用矣四與二之餘用八是用八而四二之
餘可無用矣且八或可以試加減而或不可以試乘除
亦不可用然則試差之法舍七與九又何所取用哉
命分法
術曰命分者一大幾何已分幾何命餘者為幾何分之
幾何也又曰所餘之小幾何再分幾何命此得者為幾
何分之幾何也通曰第一術即幾何原本之命比例法
也第二術恰盡則可否則終不能盡也
式法數為母餘數為子如實數八萬七千二百四十八
法數三百七十四法尾已齊實尾用數已得二三三尚
有餘實一○六當命為三百七十四分之一百零六也
又式得數為子得數前位為母得數一位為十二位為
百三位為千也如右式餘實一○六先於六右加一○
依法再除之得二又加一○再除之得八又加一○再除
之得三凡三位乃千也當命為千分之二百八十三也
尺算
法尺之式上連下分下則可開可合上則相對不移如
此乃可為法
兩端變為三角因參知兩勾股矩度直景倒景蓋同一
源加實尺於法尺之上謂之三角可也謂之勾股可也
天地間無非參兩之妙雖百千萬億至於無窮胥莫能
逃矣
乘法
先定實數法數與他算不同既定乃以法數作法尺何
數實數作實尺何數或寸或分又須預定然後將實尺
比照實數横安于法尺之一分或一寸上令法尺開而
就之隨量法尺之法數空處得何數即為所求數也
通變升降其用始廣如實尺數大不便安放者須降實
數寸降為分分降為釐或將實數折半法實俱大必須
俱折先降後升先半後倍得數原無異也或用升法以
代降實
式有五人每人四兩問共若干曰二十兩
以四兩為四分作實數以五人為五寸作法數將實尺比定四分横安于法尺一寸空處乃量法尺五寸
空處得何數今得二寸因以分為兩則寸即為十知所得二寸為二十兩
降數式有五十九人每人八兩問共若干曰四百七十
二兩
以八兩為八分作實數以五十九人作五寸九分為法數用實尺比定八分安于法尺一分上八大一小
不可安放乃降十倍安於法盡一寸空處量法尺五寸九分空處得四寸七分二力先降後升應升為四尺七寸二分原以分為兩故知所得四百七十二兩此係升法以代降實
實數折半式有八人每人一十二兩問共若干曰九十
以八人作八寸為法以一十二兩折半得六兩作六分為實用實尺比定六分安于法尺一寸空處量法尺八寸空處得四寸八分原以分為兩是為四十八兩先半後倍倍得九十六兩也
法實俱折半式有一十六人每人一十二兩問共若十
曰一百九十二兩
以一十六人折半得八人作八寸為法以一十二兩折半得六兩作六分為實用實尺比定六分安于法尺一寸空處量法尺八寸空處得四寸八分以分為兩是為四十八兩倍之得九十六兩再倍之得一百九十二兩因法實俱折半故再倍之也
實數再折式八人每人二十四兩問共若干曰一百九
十二兩
以八人作八寸為法以二十四兩折半得一十二兩又折半為六兩作六分為實用實尺比定六分安于法尺一寸空處量法尺八寸空處得四寸八分以分為兩是為四十八兩倍之得九十六再倍之得一百九十二再折故再倍或將實三分之得數三乘之亦可
法實俱再折式三十二人每人二十四兩問共若干曰
七百六十八兩
以三十二人折半得一十六人又折半得八人作八寸為法以二十四兩折半得一十二兩又折半得六兩作六分為實用實尺比定六分安于法尺一寸空處量法尺八寸空處得四寸八分以分為兩是為四十八兩倍之得九十六兩再倍之得一百九十二兩再倍之得
三百八十四兩再倍之得七百六十八兩四其折半故四其加倍如以四自乘得十六又乘四十八亦合
整零截量式二十四人每人五錢三分問共若干曰一
十三兩七錢二分
以二十四人作法尺二寸四分以五錢三分作實尺五分三釐先截整數二十人求之將實尺比定五分
三釐安于法尺一分空處實大不便安頓降之安于法尺一寸空處將五分三釐升作五寸三分此為十人所得數倍之得十寸六分便是二十人所得數也後截零數四人求之量法尺四分空處得二分一釐二毫亦升作二寸一分二釐便是四人所得數併兩得數得十二寸七分二釐為二十四人所得總數因以尺之釐為銀之分故知為十二兩七錢二分
又術以二十四人作法尺二尺四寸以五錢三分作實尺五分三釐將實尺比定五分三釐安于法尺一寸空處得五寸三分倍之得一尺○六分為二十人所得數又于法尺四寸空處量得二寸一分二釐併得一尺二寸七分二釐亦合所截為二十人故加倍若三十人則用三乘四十人則用四乘之
除法
法實數定之後將實尺比定實數安于法尺之法數空
處乃量法尺之一分或一寸空處得幾何即為所求除
出數也亦用降數折數二法或有實無法任意作幾分
者不論實數多寡將實尺比數安于法尺之百分空處
用隨分量之
式銀二十二兩四十人分之問各得銀若干曰五錢五
分
以二十二兩作二寸二分為實以四十四人作四寸四分為法將實尺比定二寸二分安于法尺四寸四分空處乃量法尺之一分空處得幾何今得五釐因以尺之分為銀之兩則釐當為錢又因以分為人則五錢為一人所得數也量一寸空處得五分降為五釐亦合一分為一人一寸則為十人量四寸空處
得四十人銀數四分空處得四人銀數此用乘以知除也
降數式銀四十四兩二十二人分之問各若干曰二兩
以四十四兩作四寸四分為實以二十二人作二寸二分為法將實尺比定四寸四分安于法尺二寸二分上實大不可安頓降為四分四釐安于法尺二寸
二分空處乃量法尺一分空處得二釐因先降數此當升為二分分為銀之兩知所得為二兩
折實式一十八兩六人分之問共若干曰三兩
以一十八兩折半得九兩作九寸為實以六人作六寸為法將實尺比定九寸安于法尺六寸上實大降作九分安于法尺六寸空處乃量法尺一寸空處得
一分五釐因降實此當升為一寸五分又因折實此當倍為三寸以寸為兩故知所得為三兩
法實俱折式一十八兩一十二人分之問各若干曰一
兩五錢
以一十八兩折半得九兩作九寸為實以一十二人折半得六人作六寸為法將實尺比定九寸安于法
尺六寸上實大降作九分安于法尺六寸空處乃量法尺一寸空處得一分五釐因降實當升為一寸五分寸為兩知所得為一兩五錢法實俱折者除與乘不同乘折則所得止半數故須倍之除折則所得即所求數故不必又倍
隨分式銀八十兩或四平分或五平分問各若干曰四分
之一得二十兩五分之一得一十六兩
以八十兩作八十分為實將實尺比定八十分安于法尺百分空處如欲作四平分者則量法尺二寸五分空處得二十分每人即得二十兩也如欲作五平分者則量法尺二寸空處得一十六分每人即得一十六兩也二寸五分者四分百之一也二寸者五分百之一也
整零截量式三十二兩五人分之問各若干曰六兩四
以三十二兩作三尺二寸為實以五人作五寸為法先截實末二寸求之將實尺比定二寸安于法尺五寸空處量法尺一寸空處得四分後截實首三尺求之將實尺比定三尺降作三寸安于法尺五寸空處
量法尺一寸空處得六分應升為六寸併前四分得六寸四分以兩為寸知每人得六兩四錢後量法尺之十寸空處得六寸亦合此不升數而升度也
比例法
有實數於此以某法數分之得某數今又有實於此照
前分例求法幾何將實尺比前尺數安法尺之前法數
上又將實尺比後實數於法尺空處上下推移求至脗
合處視法尺之分寸幾何即所求數也比類無窮不可
勝舉引而伸之存乎其人
銀四百四十兩二百二十人分之人得二兩今有銀
八百八十兩照前二兩分數該人幾何曰四百四十人
以二百二十人作二寸二分為法將四百四十兩作四寸四分為實以實尺比定四寸四分安于法尺二寸二分土實大降作四分四釐安于法尺二寸二分
空處又將八百八十兩作八寸八分亦降作八分八釐以實尺比定八分八釐于法尺空處上下推移至四寸四分空處適合以寸為百數即知為四百四十人前後俱降實故不升且前以人為法銀為實後亦以銀為實求出法數人降實則不升法也
式銀三兩給六人今有銀七兩照前例應給幾人曰一
十四人
以三兩作三寸為法以六人作六分為實將實尺比定六分安于法尺三寸空處乃量法尺七寸空處視得幾何今得一寸四分以分為人即知所得為一十四人也又術以三兩作三分為實以六人作六分為法將實尺比定三分安于法尺六分空處又將實尺比定七分在于法尺空處上下推移至法尺一寸
四分空處適得脗合一寸四分即一十四人也法實可互更乘除可互用此尺算之異于他算也凡求得數皆以例比即乘除亦無非比例故比例以尺為便
籌算
珠算筆算皆有數而後乘籌算無數而先乘也故乘以
籌為捷數盡九九除亦因乘故隨時施用所遇數更而
先乘之數亦變多寡前後相合自成至若零籌無數又
無用之用也(零籌多置幾根)
開方籌
籌有二曰平方自乘之還原也故用自乘之數曰立方
自乘再乘之還原也故用自乘再乘之數
術曰有實有法先將實數查籌從左向右齊列其兩籌
每格平行線斜方形合成一位併為一數矣或前位有
數或後位有數皆一位也或兩位皆有數則合為一數
次以籌之格為法數如法數是五即查第五格也若法
有二位先查法尾所得數横列之次查法首所得數進
一位横列之再用筆算加法得所求數乘除皆有法實
實者現有之物也法者今所用以乘之除之之規則也
凡籌算皆以實列位而以籌為法法有幾位則用幾籌
中有零位則用○籌有幾○位則用幾○籌凡法實不
可誤用唯乘法或可通融若除法必須細認
凡乘法皆於實末位小數起視原實某數即於籌某行
取數列之
一位法式五十九人每人八兩問共若干曰四百七十
二兩
以五十九人為實八兩為法先依實數查第五籌第九籌五左九右并列次依法八查第八格内横數曰二曰七○曰四去○不用自左向右横視之得四百
七十二兩也得數尾與法尾數同故知為兩
二位法式五十四人每人六十四兩問共若干曰三千
四百五十六兩
以五十四人為實六十四兩為法依實查五四兩籌齊列先依法尾四查第四格曰六曰一○曰二自右向左横列之次依法首六查第六格曰四曰二○曰
三進一位横列之用筆算加法得三千四百五十六兩也多位法者視此每查格一回進一位列數此横列之法故從右起梅定九竪列之則應自下而上矣
九格内凡遇右尾有○必須列之以存位其○在
數中者說詳後式併(二一六法三二四)
(得數)三四五六
如一年三百六十日每日一十二時問共幾何答曰四
千三百二十時
法列一籌二籌看六三兩位六位為七二三位為三六
合併得四三二
定位法從末位起知未位是十上一位便是百又上一
位便是千也若末位是單上一位便是十
二
一
三籌為法式如每歲三百六十五日每日九十六刻該
刻幾何曰三萬五千○四十刻
法列三六五三籌看九六兩位六位二一九九位三二
八五因六位二一九下有一○則存之以存刻位
籌内斜方有○無數式五十四人每人二十八兩問共
若干曰一千五百一十二兩
以五十四人為實查籌并列二十八兩為法先查八
格曰二曰三○曰四横列之次查二格曰八曰○曰一進一位列之加得合問○斜方之中有數有○則去不用若無數有○則須存之以定位如八格去○列三二格列○存位是也
籌内斜方併數進十式有八十七人每人六兩問共若
干曰五百二十二兩
以八十七人為實查籌并列六兩為法查六格曰二曰四八曰四其曰四八者并為十二本位存二以十進位作一其曰四者併所進之一為五當自右向左列曰二二五矣自下而上者亦然若自上順數之則為五二二
法尾有空式如每年三百六十日今三千八百三十年
問日該幾何曰一百三十七萬八千八百○日此因所
問止及十數未及單位之日故法尾存單位為日
法列三六兩籌而後加一○籌先看三位為一○八次
看八位進一位為二八八又次看三位又進一位為一
○八並之得一三七八八下有○○方至單位但知尾
位一圈是單日則各位皆定
實尾位有空式如一十二萬日每日九十六刻該則幾
何曰一千一百五十二萬刻法置九六兩籌看一二兩
位二位為一九二一位為○九六因一位上有一圈故
必存○位于上然所問為每日則日為單位而所問實
止於萬則千百十單必須存四空位方能及於單日
用零籌式六百零八人每人三十四兩問共若干曰二
萬零六百七十二兩
以六百零八人為實查六籌零籌八籌并列三十四兩為法先查四格曰二曰三○曰四曰二横列之次
查三格曰四曰二○曰八曰一進一位列之加得合問實數整幾十者列一零籌于右整幾百者列二零籌于右以定位也
除法(即商法)
術曰有實有法有商别列實數以法數依號查籌從左
向右齊列于諸籌九格内查横行數之等于實數或略
少于實數者在第幾格即是初商數如在第一格即一
為初商也次以查得之數減其實數已盡則止一商如
未盡則有再商即再查横行内數之等于存實或略少
于存實者在第幾格即是再商數又以查得之數減其
存實如前又未盡則更有三商倘再商已除實雖未盡
而次位無實則商有○位即作○以當次商再以存實
于格内查之若至餘實數少于法數是為不盡法當命
分之
凡除以所分之物為實今欲作幾分分之為法法與實
須審定不可倒置如有糧若干給若干人則當以糧為
實以人之數為法除之蓋糧數是所分之物人數是用
以分之之法也
凡書商數皆與減數第一行相對若所減第一位是○
則𥙷作○于原實首位上而對之此定位之根也
定位法除畢以商得數與原實對位求之皆如法首位
之上一位命為單數(歸於法前得零古法實如法而一是也)然此有二法
有法少實多者從原實内尋法首位認定逆轉上一位
命為單數(如米則為單石錢則為單文)既得單數則上而十百千萬
下而分秒忽微皆定矣此為正法有法反多而實反少
者乃變法也法從原實首位逆遡而上至法首位止又
上一位命為單數(此是虚位借之以求實數)既得單數乃順下求之
命所得為分秒之數
一位商式三百二十五兩六十五人分之問各若干曰
五兩
别列三百二十五兩為實以六十五人為法查六五兩籌左右齊列何格數與實相等一格至四格皆少五格内自左向右曰三二五適等即五為商數也
如太陽每歲行天三百六十度分為七十二候每候幾
何度曰每候五度此欲分七十二分當以七二為法用
兩算
先列三百六十度為實次檢七二兩籌為法視何格内
有三六○與相同今在五格則商作五又查所減第一
位是三將商數五對三字書之此法少于實也宜于原
實内尋十度位即法首位也法首再上一位為單度定
所得為五度
假令實是三千六百則所得為五十度此亦法少于實
法亦于原實内尋法首十位再上一位為單位單位空
𥙷作圈再上一位是十度定所得為五十度用籌同而
得數迥異定位之法所以當明
二位商式三千三百二十五兩九十五人分之問各若
干曰三十五兩
列三千三百二十五兩為實九十五人為法列籌二籌横數止三位須截實上三位曰三三二作三百三十二於格内查之至三格自左向右曰二八五(中位一七)
(併八)作二百八十五略少於實數四格則多矣用三為初商相減餘四十七再以餘實四七及截外之五作四百七十五查至五格四七五(二五并七)適等用五為次商
如皇極經世一元共十二萬九千六百年分為十二會
共幾何曰每會一萬○八百年
如圖列實檢一二兩籌第一行是○一二商作一數除
實一二尚餘九六至第八行得○九六商作八恰盡又
因所減數是○一二故于實首位𥙷作圈而以商得一
對此商位書之此定位之根次所減亦是○九六故以
商得八進位書之以暗對其○因法以十為首則十字
之上方是單位數至一恰當萬也
三商式如有水輪每日共轉二千二百四十四周一日
十二時每時幾何轉曰每時一百八十七此亦欲分為
十二也故用一二兩籌檢籌第一行是○一二商一減
實一千二百餘一千四十四次檢籌第八行是○九六
商八減實九百六十餘八十四末儉籌第七行是○八
四商七法以十為首則十上一位為單數初商數對所
減籌第一位因初商是○一二故遂以一字對書之
商當有○式三十二萬三千八百七十六兩五百三十八
人分之問各若干曰六百零二兩
列實查籌三籌横數止四位截實左四位曰三二二八作三千二百二十八查至六格自左向右曰三二二八作三千二百二十八略少于實數七格則多矣用六為初商相減餘一十以餘實一○及截七六作一千零七十六此乃次位無實也次商當作○竟不除實餘實仍是一千零七十六查至二格一零七六適等用二為三商若次位三位俱無實者即一連兩商皆當
作○
法有○位式假如布二萬一千七百六十八丈給與九
百○七人各幾何曰每人二十四丈此欲分為九百○
七分也故以九籌○籌七籌為法檢籌第二行一八一
四商作二蓋一格本少自二格以下皆多唯第二格略
少于實數故商二減實一萬八千一百四十尚餘三千
六百二十八丈減至第四三六二八恰盡故又商四因
法首是百故百上為單位知為二十四丈以上皆法少
於實故法首在原實中乃本位也
法多實少式(即除分秒法)假如銀五百一十二兩給六百四
十人各若干曰每人八錢解曰凡不能成一單數者皆
分秒也故斤下有兩兩下有錢錢下有分分下有釐釐
下有毫零以兩為主以兩為主則兩為單位而錢為兩
十之一八錢即十分兩之八此欲分為六百四十分也
故以六四兩籌為法檢籌第八行恰盡故商八又所減
首位不空故商數對之定位法曰此法多于實也尋法
首位百逆上一位是兩二位空則知是錢
又式如饑民四十八萬口賑米三千六百石各得若干
曰每口七合五勺此人分米也故以四十八萬為法列
四八兩籌檢籌第七行是三三六初商七餘二百四十
石次檢籌第五行是二四○次商五恰盡定位法于原
實内尋法首位而原實内無十萬只有千虛進一位尋
萬又進一位十萬十萬者法首位也再上一位得零是
單石石位○順下斗升俱○知所得為七合五勺
以上兩例皆法多于實者其法首位或在原實中必原
實首位也或不在原實中則于其原實上幾位也要之
皆不能滿法其所得必為分秒
法多實者實乃零數法乃整數假如有銀四百五十六
兩而千百十人分是也
實多法者法乃零數實乃整數假如有銀四百五十六
兩而有二三十人分也
法首位者法首位之數也若法首是十即于實之十位
上為法首位若法首是百即是實之百位上為法首位
法首位上一位是單者如實之十數是法首位而十上
之百數位即為單位也實之百數是法首位而百上之
千即為單位
實不盡式二千三百三十六兩九十五人分之問各若
干曰三十五兩餘實一十一兩
列實查籌二籌横數止三位截實左三位曰三三三查至三格自左向右曰二八五略少于實數用三為初商相減餘四八以餘實四八及截外六作四八六查至五格四七五略少于餘實用五為次商相減尚餘一十一為不盡數也
開平方法
術曰有積數(即實數)有商數商有方法有廉法(倍初商)隅法
(次商)置積數從末位下作點向左隔一位作一點有一點
知有一商也視平方籌内自乘之數與實相等或略少
者取以除實但自左一點為始(此謂横列者若上下列則從上始)點前
無位則自乘止於零數點前有位則自乘應有十數而
此乘數在籌内第幾格即用其格數為初商也有二點
者以初商倍之乃以倍數查籌列于平方籌之左再視
諸籌横行内數與存實相等者用以除實而此實在幾
格即用為次商法不盡者以法命之或實右加○再開
之
開方有實無法故用方廉隅以代之初商積與次商隅
積皆自乘數也次商廉積之數處初商與隅積之間也
第一點求初商之根為方法乙為方
積也不盡求二點之商倍初商根為
廉法甲丙兩長邊也隅法丁方一角
也此甲乙丙丁為平方二商之形如
三商則加戊已廉及庚隅也
積三萬二千○四十一平方開之問邊得若干曰
一百七十九别列積為實從末位一下作點向左隔
一位○下作點三下作點共得三點知商有三位也點
左無實(横言左竪言上)三作零數視方籌内自乘無三近少為
一平行取一為方法為初
商乃于實三内減去一格
自乘之一存二以共次點
實曰二二○為餘實次倍
初商根得二為廉法(倍一為二)
取二號籌列方籌之左于
兩籌横行内求二二○無
則用近少者一八九在第
七格即七為次商為隅法
乃以一八九減餘實二二
○餘三一以共三點之實
曰三一四一為次商餘實
再倍初次兩商之一七得
三四(初商一作一十次商七共為十七倍為三)
(十四)為次廉法乃去次商所列之第二籌又取三號四號兩籌自左向右俱列方籌之左于横行内求三一四一在第九格即九為三商為次隅法減實無餘即三次所商為平方邊一百七十九也
開立方法
術曰有積數有商數商有方法有平廉法長廉法隅法
置積為實從末位作點向左隔二位作點每一點有一
商視立方籌内再乘之數有與實相等或近少者用以
除實也但自左一點為始點前無位則再乘止于零數
點前有一位則再乘應有十數點前有二位則再乘應
有百數而此乘數在第幾格即用作初商也有二點者
以初商自乘而三倍之為平廉法以初商三倍之為長
廉法却以平廉法數查籌列立方籌左以長廉法數查
籌列立方籌右乃視左籌與方籌之横行内數查其或
等或少于餘實者取格數為約數即以此為次商以次
商自乘之數與長廉法數相乘進一位書于約數之下
以此二數併之除其餘實即得立方邊也不盡者依法
命之
其一作六面方體諸面線角皆相等此名方法體成甲乙丙丁形此初商形也凢邊皆初商之數
其二作六面扁方體其上下面各與方
法等旁四面之高少于方法之高而四
稜線皆等此各平廉法體成戊己庚辛
形
其三作六面長方體其上下左右四面
與平廉之旁面等兩端之四界線皆與
平廉之高等此名長廉法體成壬癸形
其四作六面小立方體六面之廣袤皆
與長廉之兩端等此名隅法體成子丑形通曰右三形皆次商形也三四商者亦如此三形增之
後邊長廉之下
尚有一平廉
通曰初商方根次商上加一平廉左加一平廉後加一平廉故三倍初商之自乘為平廉法也上與後之邊齊右加一長廉上與左之邊齊前加一長廉左與後之邊齊下加一長廉故三倍初商為長廉法也上與左與後三角加隅法而立方形成矣
積九百二十一萬九千三百二十九立方開之問
邊得若干曰二百零九别列積數為實從末位九
下作點向左隔二位作點
凡三點知商有三位也點
前無實則實前九為零數
視立方籌内再乘之數無
九三格二七過實用二格
八實之近少數也即取二
為方法為初商九内減八
存一以共次點之實曰一
一二九為餘實將初商二
自乘得四又三倍得十二
為平廉法取一號二號
兩籌列方籌左又將初
商二三倍得六為長廉
法取六號籌列方籌右
乃于立方與平廉共三
籌内之横行數取其少
于餘實者為約數視籌内無近少數即第一格之一二
○一亦多于餘實之一一二九遇此則知商有○位矣
竟于初商下作○以當次商而實數不動復開第三點
之實一一二九三二九將初次兩商之二○(此作二十)自乘之
得四○○(此作四百)又三倍得一二○○(此作一千二百)為次平廉法
乃取一號二號○○○號之四籌列方籌左而去次商
所列之平廉兩籌又將初次兩商之二○(此作二十)三倍之
得六○(此作六十)為次長廉法取六號○號兩籌列方籌右
而去次商所列之長廉籌乃于立方與次平廉共五籌
内之横行數取其少于餘實者為約數至第九格曰一
○八○七二九另立之向立方籌右平行取九格内平
方之自乘數八十一以乘次長廉六○(此作六十)得四八六
○(此八十一回六十也)進一位列約數一○八○七二九之下相
併得一一二九三二九以此數除餘實之一一二九三
二九恰盡乃以約數之格數九為三商也三次所商曰
二曰○曰九是謂立方根二百零九也通曰長廉籌止
用其號數格内諸數皆
無用即不列籌而止列
數亦可開方宜入少廣
章因有此二籌故亦附
於此
周易函書約存卷十三
